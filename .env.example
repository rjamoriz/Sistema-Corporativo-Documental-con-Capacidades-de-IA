# FinancIA 2030 - Environment Variables
# Copy this file to .env and update with your values

# Application
APP_NAME=FinancIA 2030
DEBUG=False
VERSION=1.0.0

# API
API_V1_PREFIX=/api/v1
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Database (PostgreSQL + pgvector)
DATABASE_URL=postgresql+asyncpg://financia:financia2030@localhost:5432/financia_db
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
VECTOR_DIMENSION=768

# OpenSearch
OPENSEARCH_HOST=localhost
OPENSEARCH_PORT=9200
OPENSEARCH_USER=admin
OPENSEARCH_PASSWORD=admin
OPENSEARCH_INDEX=documents

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600

# Kafka
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_PREFIX=financia

# MinIO (S3-compatible)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=False
MINIO_BUCKET=documents

# Authentication & Security
SECRET_KEY=your-secret-key-change-in-production-MUST-BE-RANDOM
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ENABLE_MFA=False
PASSWORD_MIN_LENGTH=12

# Keycloak (SSO) - Optional
KEYCLOAK_SERVER_URL=
KEYCLOAK_REALM=
KEYCLOAK_CLIENT_ID=
KEYCLOAK_CLIENT_SECRET=

# OpenAI API
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.1
OPENAI_MAX_TOKENS=2000

# Local LLM (Optional)
LOCAL_LLM_ENABLED=False
LOCAL_LLM_MODEL=llama-3-8b
LOCAL_LLM_ENDPOINT=http://localhost:8080

# ML Models
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-mpnet-base-v2
EMBEDDING_BATCH_SIZE=32
SPACY_MODEL=es_core_news_lg
CLASSIFICATION_MODEL=dccuchile/bert-base-spanish-wwm-cased
CLASSIFICATION_THRESHOLD=0.8

# OCR
TESSERACT_PATH=/usr/bin/tesseract
TESSERACT_LANGUAGES=spa,eng,fra,por,cat,eus,glg
OCR_DPI=300

# Document Processing
MAX_FILE_SIZE_MB=100
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# RAG
RAG_TOP_K=5
RAG_SCORE_THRESHOLD=0.5
RAG_ENABLE_RERANKER=False
RAG_CITATION_REQUIRED=True

# Risk Scoring Weights
RISK_WEIGHT_LEGAL=0.25
RISK_WEIGHT_FINANCIAL=0.30
RISK_WEIGHT_OPERATIONAL=0.20
RISK_WEIGHT_ESG=0.10
RISK_WEIGHT_PRIVACY=0.10
RISK_WEIGHT_CYBER=0.05

# Compliance
COMPLIANCE_RULES_PATH=config/compliance_rules.yaml

# Audit
AUDIT_LOG_RETENTION_DAYS=730
AUDIT_LOG_EXPORT_ENABLED=True

# Observability
PROMETHEUS_ENABLED=True
OPENTELEMETRY_ENABLED=False
OPENTELEMETRY_ENDPOINT=

# MLOps
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=financia-2030

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
SESSION_TIMEOUT_MINUTES=60

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==================================================
# Enterprise Connectors (Sprint Final - 100% RFP)
# ==================================================

# SharePoint Connector
SHAREPOINT_ENABLED=true
SHAREPOINT_TENANT_ID=your-tenant-id-here
SHAREPOINT_CLIENT_ID=your-client-id-here
SHAREPOINT_CLIENT_SECRET=your-client-secret-here

# SAP DMS Connector
SAP_DMS_ENABLED=true
SAP_DMS_URL=https://sap-dms.company.com
SAP_USERNAME=dms_user
SAP_PASSWORD=your-sap-password
SAP_CLIENT=100

# Alfresco Connector (Future)
ALFRESCO_ENABLED=false
ALFRESCO_URL=
ALFRESCO_USERNAME=
ALFRESCO_PASSWORD=

# Microsoft Exchange Connector (Future)
EXCHANGE_ENABLED=false
EXCHANGE_TENANT_ID=
EXCHANGE_CLIENT_ID=
EXCHANGE_CLIENT_SECRET=

# ========================================
# GPU & ML OPTIMIZATION
# ========================================

# GPU Configuration
GPU_ENABLED=true
CUDA_VISIBLE_DEVICES=0
TORCH_DEVICE=auto  # auto, cuda, cpu

# ML Models Configuration
EMBEDDING_MODEL=paraphrase-multilingual-MiniLM-L12-v2
EMBEDDING_DIMENSION=384
NER_MODEL=es_core_news_md
CLASSIFIER_MODEL=facebook/bart-large-mnli

# Performance Tuning
ML_BATCH_SIZE_CPU=16
ML_BATCH_SIZE_GPU=64
ML_MODEL_CACHE_SIZE=3
ML_LAZY_LOADING=true
ML_WARMUP_ON_START=false

# Memory Management
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512
TORCH_CUDA_MEMORY_FRACTION=0.8

# OpenAI API (for advanced embeddings)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=text-embedding-3-small
OPENAI_MAX_TOKENS=8192

# Model Paths (Optional - for custom models)
CUSTOM_MODEL_PATH=/app/models
SPACY_MODEL_PATH=/app/models/spacy
TRANSFORMERS_CACHE_PATH=/app/models/transformers

# Performance Monitoring
ENABLE_GPU_MONITORING=true
LOG_GPU_USAGE=true
BENCHMARK_ON_START=false
